{"ast":null,"code":"import _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport _wrapNativeSuper from \"@babel/runtime/helpers/wrapNativeSuper\";\n/**\n * here we use custom errors with the additional field 'parameters'\n */\n\nimport { ucfirst } from './util';\nimport overwritable from './overwritable';\n/**\n * transform an object of parameters to a presentable string\n * @param  {any} parameters\n * @return {string}\n */\n\nvar parametersToString = function parametersToString(parameters) {\n  var ret = '';\n  if (Object.keys(parameters).length === 0) return ret;\n  ret += 'Given parameters: {\\n';\n  ret += Object.keys(parameters).map(function (k) {\n    var paramStr = '[object Object]';\n\n    try {\n      paramStr = JSON.stringify(parameters[k], function (k, v) {\n        return v === undefined ? null : v;\n      }, 2);\n    } catch (e) {}\n\n    return k + ':' + paramStr;\n  }).join('\\n');\n  ret += '}';\n  return ret;\n};\n\nvar messageForError = function messageForError(message, parameters) {\n  return 'RxError:' + '\\n' + message + '\\n' + parametersToString(parameters);\n};\n\nexport var RxError =\n/*#__PURE__*/\nfunction (_Error) {\n  _inheritsLoose(RxError, _Error);\n\n  function RxError(code, message) {\n    var _this;\n\n    var parameters = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var mes = messageForError(message, parameters);\n    _this = _Error.call(this, mes) || this;\n    _this.code = code;\n    _this.message = mes;\n    _this.parameters = parameters;\n    _this.rxdb = true; // tag them as internal\n\n    return _this;\n  }\n\n  var _proto = RxError.prototype;\n\n  _proto.toString = function toString() {\n    return this.message;\n  };\n\n  _createClass(RxError, [{\n    key: \"name\",\n    get: function get() {\n      return 'RxError';\n    }\n  }, {\n    key: \"typeError\",\n    get: function get() {\n      return false;\n    }\n  }]);\n\n  return RxError;\n}(_wrapNativeSuper(Error));\nexport var RxTypeError =\n/*#__PURE__*/\nfunction (_TypeError) {\n  _inheritsLoose(RxTypeError, _TypeError);\n\n  function RxTypeError(code, message) {\n    var _this2;\n\n    var parameters = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var mes = messageForError(message, parameters);\n    _this2 = _TypeError.call(this, mes) || this;\n    _this2.code = code;\n    _this2.message = mes;\n    _this2.parameters = parameters;\n    _this2.rxdb = true; // tag them as internal\n\n    return _this2;\n  }\n\n  var _proto2 = RxTypeError.prototype;\n\n  _proto2.toString = function toString() {\n    return this.message;\n  };\n\n  _createClass(RxTypeError, [{\n    key: \"name\",\n    get: function get() {\n      return 'RxError';\n    }\n  }, {\n    key: \"typeError\",\n    get: function get() {\n      return true;\n    }\n  }]);\n\n  return RxTypeError;\n}(_wrapNativeSuper(TypeError));\nexport function pluginMissing(pluginKey) {\n  return new RxError('PU', \"You are using a function which must be overwritten by a plugin.\\n        You should either prevent the usage of this function or add the plugin via:\\n          - es5-require:\\n            RxDB.plugin(require('rxdb/plugins/\" + pluginKey + \"'))\\n          - es6-import:\\n            import \" + ucfirst(pluginKey) + \"Plugin from 'rxdb/plugins/\" + pluginKey + \"';\\n            RxDB.plugin(\" + ucfirst(pluginKey) + \"Plugin);\\n        \", {\n    pluginKey: pluginKey\n  });\n} // const errorKeySearchLink = key => 'https://github.com/pubkey/rxdb/search?q=' + key + '+path%3Asrc%2Fmodules';\n// const verboseErrorModuleLink = 'https://pubkey.github.io/rxdb/custom-builds.html#verbose-error';\n\nexport var newRxError = function newRxError(code, parameters) {\n  return new RxError(code, overwritable.tunnelErrorMessage(code), parameters);\n};\nexport var newRxTypeError = function newRxTypeError(code, parameters) {\n  return new RxTypeError(code, overwritable.tunnelErrorMessage(code), parameters);\n};\nexport default {\n  newRxError: newRxError,\n  newRxTypeError: newRxTypeError,\n  pluginMissing: pluginMissing\n};","map":null,"metadata":{},"sourceType":"module"}