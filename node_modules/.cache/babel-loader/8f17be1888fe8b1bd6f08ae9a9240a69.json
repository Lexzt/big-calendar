{"ast":null,"code":"import { BEGIN_GET_GOOGLE_CALENDAR, successGetGoogleCalendar, failGetGoogleCalendar } from '../redux/actions';\nimport { mergeMap, map, catchError } from 'rxjs/operators';\nimport { ofType } from 'redux-observable';\nexport var getGoogleCalendarEpic = function getGoogleCalendarEpic(action$) {\n  return action$.pipe(ofType(BEGIN_GET_GOOGLE_CALENDAR), mergeMap(function (action) {\n    return window.gapi.client.request({\n      'path': \"https://www.googleapis.com/calendar/v3/calendars/primary/events\"\n    }).pipe(map(function (resp) {\n      return successGetGoogleCalendar(response);\n    }), catchError(function (error) {\n      return failGetGoogleCalendar(error);\n    }));\n  }));\n};\nwindow.gapi.client.request({\n  'path': \"https://www.googleapis.com/calendar/v3/calendars/primary/events\"\n}).then(function (resp) {\n  var events = resp.result.items;\n  next({\n    type: action.type + '_SUCCESS',\n    payload: {\n      data: events\n    }\n  });\n}, function (reason) {\n  next({\n    type: action.type + '_FAILURE',\n    payload: {\n      data: reason\n    }\n  });\n});","map":{"version":3,"sources":["/Users/sham/big-calendar/src/epics/events.js"],"names":["BEGIN_GET_GOOGLE_CALENDAR","successGetGoogleCalendar","failGetGoogleCalendar","mergeMap","map","catchError","ofType","getGoogleCalendarEpic","action$","pipe","action","window","gapi","client","request","resp","response","error","then","events","result","items","next","type","payload","data","reason"],"mappings":"AAAA,SAASA,yBAAT,EACSC,wBADT,EAESC,qBAFT,QAEsC,kBAFtC;AAGA,SAASC,QAAT,EAAmBC,GAAnB,EAAwBC,UAAxB,QAA0C,gBAA1C;AACA,SAASC,MAAT,QAAuB,kBAAvB;AAGA,OAAO,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,CAAAC,OAAO;AAAA,SAAIA,OAAO,CAACC,IAAR,CAC9CH,MAAM,CAACN,yBAAD,CADwC,EAE9CG,QAAQ,CAAC,UAAAO,MAAM;AAAA,WACbC,MAAM,CAACC,IAAP,CAAYC,MAAZ,CAAmBC,OAAnB,CAA2B;AACtB;AADsB,KAA3B,EAEGL,IAFH,CAGEL,GAAG,CAAC,UAAAW,IAAI;AAAA,aAAId,wBAAwB,CAACe,QAAD,CAA5B;AAAA,KAAL,CAHL,EAIEX,UAAU,CAAC,UAAAY,KAAK;AAAA,aAAIf,qBAAqB,CAACe,KAAD,CAAzB;AAAA,KAAN,CAJZ,CADa;AAAA,GAAP,CAFsC,CAAJ;AAAA,CAArC;AAYPN,MAAM,CAACC,IAAP,CAAYC,MAAZ,CAAmBC,OAAnB,CAA2B;AACtB;AADsB,CAA3B,EAEMI,IAFN,CAEW,UAAAH,IAAI,EAAI;AAChB,MAAII,MAAM,GAAGJ,IAAI,CAACK,MAAL,CAAYC,KAAzB;AACAC,EAAAA,IAAI,CAAC;AACHC,IAAAA,IAAI,EAAEb,MAAM,CAACa,IAAP,GAAc,UADjB;AAEHC,IAAAA,OAAO,EAAE;AACPC,MAAAA,IAAI,EAAEN;AADC;AAFN,GAAD,CAAJ;AAMD,CAVF,EAUI,UAACO,MAAD,EAAY;AACbJ,EAAAA,IAAI,CAAC;AACHC,IAAAA,IAAI,EAAEb,MAAM,CAACa,IAAP,GAAc,UADjB;AAEHC,IAAAA,OAAO,EAAE;AACPC,MAAAA,IAAI,EAAEC;AADC;AAFN,GAAD,CAAJ;AAMD,CAjBF","sourcesContent":["import { BEGIN_GET_GOOGLE_CALENDAR,\n         successGetGoogleCalendar,\n         failGetGoogleCalendar } from '../redux/actions';\nimport { mergeMap, map, catchError } from 'rxjs/operators';\nimport { ofType } from 'redux-observable';\n\n\nexport const getGoogleCalendarEpic = action$ => action$.pipe(\n  ofType(BEGIN_GET_GOOGLE_CALENDAR),\n  mergeMap(action =>\n    window.gapi.client.request({\n         'path': `https://www.googleapis.com/calendar/v3/calendars/primary/events`,\n    }).pipe(\n      map(resp => successGetGoogleCalendar(response)),\n      catchError(error => failGetGoogleCalendar(error))\n    )\n  )\n);\n\nwindow.gapi.client.request({\n     'path': `https://www.googleapis.com/calendar/v3/calendars/primary/events`,\n   }).then(resp => {\n   let events = resp.result.items;\n   next({\n     type: action.type + '_SUCCESS',\n     payload: {\n       data: events\n     }\n   });\n }, (reason) => {\n   next({\n     type: action.type + '_FAILURE',\n     payload: {\n       data: reason\n     }\n   });\n });\n"]},"metadata":{},"sourceType":"module"}